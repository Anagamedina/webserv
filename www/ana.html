<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LaserWeb — Ana / The Architect</title>
    <link rel="stylesheet" href="/css/laserweb.css">
    <link rel="stylesheet" href="/css/laserweb-ops.css">
</head>
<body>
    <div class="page">
        <header>
            <h1 class="logo">L<span>Λ</span>S<span>Ξ</span>RW<span>Ξ</span>B</h1>
        </header>

        <nav class="nav-hud">
            <a href="/">THE HUD</a>
            <a href="/upload.html">LOAD LASER</a>
            <a href="/squad_staff.html">ELITE SQUAD</a>
            <a href="/cgi-bin/list_images.py">TACTICAL SCANNER</a>
        </nav>

        <main class="panel">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                <h2>Ana Gabriela Burgos — The Architect</h2>
                <a href="/squad_staff.html" class="btn btn-back">&larr; Back to Elite Squad</a>
            </div>

            <div class="profile-layout">
                <aside class="core-specs">
                    <div class="spec-item">
                        <span class="spec-label">Rank:</span>
                        <span class="spec-value">The Architect</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">Speciality:</span>
                        <span class="spec-value">HTTP Core & Parsing</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">Status:</span>
                        <span class="spec-value status-ok">OPERATIONAL</span>
                    </div>
                    <div class="spec-item">
                        <span class="spec-label">Technology:</span>
                        <span class="spec-value">C++98 / POSIX</span>
                    </div>
                </aside>

                <section class="doc-container">
                    <p class="page-title">Mission report: HTTP client and request processing</p>

                    <div class="doc-block">
                        <p class="doc-p">
                            This console documents the architecture of the <strong>HTTP client</strong> and <strong>request processing</strong>: the logic that receives the incoming signal, parses it, routes it, builds the response and sends it back through the socket while keeping the flow non-blocking.
                        </p>
                    </div>

                    <div class="doc-block">
                        <h3 class="doc-h3">1. Client: the connection and its states</h3>
                        <p class="doc-p">
                            <strong>Client</strong> represents an active TCP connection. It manages input buffers (<code>_inBuffer</code>), output buffers (<code>_outBuffer</code>) and the socket life cycle through a state machine (<code>IDLE</code>, <code>READING</code>, <code>WRITING</code>).
                        </p>
                    </div>

                    <div class="doc-block">
                        <h3 class="doc-h3">2. Request flow</h3>
                        <ol class="flow-list">
                            <li><strong>Read:</strong> <code>handleRead()</code> asynchronously fills the buffer.</li>
                            <li><strong>Parse:</strong> <code>HttpParser</code> identifies the request structure.</li>
                            <li><strong>Routing:</strong> <code>RequestProcessor</code> maps the URI against configured <code>locations</code>.</li>
                            <li><strong>CGI check:</strong> If the extension belongs to a script, execution is delegated to the CGI executor.</li>
                            <li><strong>Response:</strong> An HTTP/1.1 packet is built and sent back to the client.</li>
                        </ol>
                    </div>

                    <div class="doc-block">
                        <h3 class="doc-h3">3. HttpParser: decomposing the signal</h3>
                        <p class="doc-p">
                            The parser splits the signal into <strong>start line</strong>, <strong>headers</strong> and <strong>body</strong>. It implements support for <code>Transfer-Encoding: chunked</code>, allowing large files to be received without exhausting server memory.
                        </p>
                    </div>

                    <div class="doc-block">
                        <h3 class="doc-h3">4. RequestProcessor: routing brain</h3>
                        <p class="doc-p">
                            This component is responsible for logical decisions: it validates <code>client_max_body_size</code>, checks whether the method (GET, POST, DELETE) is allowed in the requested area and selects the right handler.
                        </p>
                    </div>

                    <div class="doc-block">
                        <p class="doc-p" style="color:var(--neon-blue); font-size:0.85rem; border-top: 1px dashed var(--neon-blue); padding-top: 10px;">
                            // SYSTEM LOG: Architecture data loaded successfully.
                        </p>
                    </div>
                </section>
            </div>
        </main>
    </div>
</body>
</html>